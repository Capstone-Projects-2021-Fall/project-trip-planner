<!DOCTYPE html>
<html lang="en">
<head>
  <title>Login</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--<script defer src="../lib/login-page.js"></script>-->
  <!--<link rel="stylesheet" href="login-page.css">-->
    <link href="dropdown.css" rel="stylesheet" type="text/css"/>
    <link href="navbar.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="common.css" />
  <link rel="icon" type="image/ico" href="../resources/favicon.ico" />
</head>
<body>

<!-- Navbar -->
<div class="w3-top" >
    <div class="w3-bar w3-red w3-card w3-left-align w3-large">
        <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-red" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
        <a href="homepage.html" target="_self" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>
        <a href="signup.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Sign Up</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 2</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 3</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 4</a>
        <div class="topnav">
            <div class="dropdown">
                <button class="dropbtn">â–¼</button>
                <div class="dropdown-content">
                    <a href="#">User</a>
                    <a href="#">Itineraries</a>
                </div>
            </div>
            <a class="active" href="#home"></a>
            <div class="search-container">
                <form action="/action_page.php">
                    <input type="text" placeholder="Search.." name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
        </div>
    </div>

    <!-- Navbar on small screens -->
    <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
        <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 1</a>
        <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 2</a>
        <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 3</a>
        <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 4</a>
    </div>
</div>

<!-- Header -->
<header class="w3-container w3-red w3-center" style="padding:128px 16px">
<!--    <h1 class="w3-margin w3-jumbo">Login Page under construction...</h1>-->
<!--    <button onclick="document.location='login.html'" class="w3-button w3-green w3-padding-large w3-large w3-margin-top">Log In Here!</button>-->
    <main id="main-holder">
        <h1 id="login-header">Login</h1>

        <div id="login-error-msg-holder">
            <p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
        </div>

        <form id="login-form">
            <input type="text" name="username" id="username" class="login-form-field" placeholder="Username">
            <input type="password" name="password" id="password" class="login-form-field" placeholder="Password">
            <!--<input type="button" value="Login" id="login-form-submit" onclick="callAPI(document.getElementById('username').value, document.getElementById('password').value)"> -->
        </form>
        <button onclick="document.location='account.html'" class="w3-button w3-green w3-padding-large w3-large w3-margin-top">Submit</button>
        <div>
            <p><a href="signup.html">Not a user? Click here to sign up!</a></p>
        </div>

    </main>
</header>
<script>
    var callAPI = (username, password)=>{
        // instantiate a headers object
        var myHeaders = new Headers();
        // add content type header to object
        myHeaders.append("Content-Type", "application/json");
        // using built in JSON utility package turn object to string and store in a variable
        var raw = JSON.stringify({"username":username, "password": password});

        // create a JSON object with parameters for API call and store in a variable
        var requestOptions = {
            method: 'GET',
        };
        console.log(username, password);
        // make API call with parameters and use promises to get response
        fetch("https://hhd3reswr9.execute-api.us-west-2.amazonaws.com/UserManagement?username=" + username + "&password=" + password, requestOptions).then(response => response.text())
      .then( function(data){
          let value = JSON.parse(data);
          console.log(value);
      });
    }
</script>


</body>
</html>
